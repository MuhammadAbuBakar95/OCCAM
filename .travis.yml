language: python

python:
#  - "3.5"
#  - "3.4"
#  - "3.3"
  - "2.7"

#language: c

#compiler:
#  - clang

#https://docs.travis-ci.com/user/trusty-ci-environment/

sudo: required
dist: trusty

#dependencies
#
# what a fucking mess:
#
# https://github.com/travis-ci/travis-ci/issues/4989
# http://stackoverflow.com/questions/34819221/why-is-python-setup-py-saying-invalid-command-bdist-wheel-on-travis-ci
#
#
install:
  - sudo apt-get update
  - sudo apt-get install -y wget libprotobuf-dev python-protobuf protobuf-compiler
  - sudo apt-get install -y git llvm-3.8 libclang-3.8-dev clang-3.8
  - export BUILD_HOME=`pwd`
  - export OCCAM_HOME=${BUILD_HOME}/travis_build/occam
  - export OCCAM_LOGFILE=${BUILD_HOME}/travis_build/.occam.log
  - export REPOS=${BUILD_HOME}/travis_build/Repositories

#tests
script:
  - ${BUILD_HOME}/.travis/build.sh
